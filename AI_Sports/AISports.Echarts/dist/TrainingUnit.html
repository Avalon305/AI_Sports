<%@ taglib prefix = "c" uri = "http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html lang="zh-cn" xmlns="http://www.w3.org/1999/xhtml">
<!-- saved from url=(0013)about:internet -->
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <div id="Op">
        <!--<button onclick="click1()" style="width:100px;height:20px">测试</button>
        <script>
        function click1()
        { 
			alert(window.external.aerobicEnergy());
			//alert(eval('(' + window.external.aerobicEnergy() + ')'));
        }
        </script>-->
    </div>
    <div id="main" style="width:1360px;height:500px" />
	<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js">
	</script>
    <script src="echarts.js"></script>
    <script src="echarts-all.js"></script>
    <script src="shine.js"></script>
    <script>
        function click()
        {
            alert("dasda");
            window.external.ShowMsg("这是一条信息");           
        }       
        function Type(info)
        {
            if (info == 0) {
                myChart.clear();
            }
            else {
                myChart.setOption(option);
            }
        }
        myChart = echarts.init(document.getElementById('main'),'shine');
 option = {
  //去掉外部边框
  grid: {show:'true',borderWidth:'0'},
    tooltip : {
        trigger: 'axis',
        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
            type : ''        // 默认为直线，可选为：'line' | 'shadow'
        }
    },
	//自定义legend颜色
	color:['#4472C5','#ED7C30'],
    legend: {
        data:['有氧设备','力量训练设备']
    },
	//辅助线等   设为false
    toolbox: {
        show : false,
        orient: 'vertical',
        x: 'right',
        y: 'center',
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : false,
    xAxis : [
        {
            type : 'category',
            data : [],
			axisLine:{       //y轴
			  show:false

			},
			axisTick:{       //y轴刻度线
			  show:false
			},
			splitLine: {     //网格线
			  show: false
			}
        }
    ],
    yAxis : [
        {
            //splitLine:{show: true},//去除网格线
			type : 'value',
			//splitArea : {show : true},//保留网格区域
			axisLine:{       //y轴
			  show:false

			},
			axisTick:{       //y轴刻度线
			  show:false
			},
			splitLine: {     //网格线
			  show: false
			},
			 //网格样式
			splitLine: {
				show: true,
				lineStyle:{
				color: ['rgb(199,237,237)'],
				width: 2,
				type: 'solid'
				}
			},
			axisLabel: {
            formatter: '{value} 千卡'
          }
			//固定y轴,
			//min:'0',
            //max:'100',
            //splitNumber:'4'

        }
    ],
    series : [
        {
            name:'有氧设备',
            type:'bar',
			stack: '广告',
			barWidth : 120,//柱图宽度
            data : []
        },
        {
            name:'力量训练设备',
            type:'bar',
            stack: '广告',
			barWidth : 120,//柱图宽度
            data : []
        }
    ]
};
        //动态向X轴赋值
		var arr = new Array();
		for(i=0;i<window.external.recordNumber();i++){
		arr.push("")
		};
		option.xAxis[0].data = ['',''];

		//动态向有氧训练设备赋值  
		var aerobicArray = new Array();
		//aerobicArray.push(window.external.aerobicEnergy());
		aerobicArray = eval('(' + window.external.aerobicEnergy() + ')');
		option.series[0].data = aerobicArray;
		//动态向力量训练设备赋值
		var forceArray = new Array();
		//forceArray.push(window.external.forceEnergy());
		forceArray =  eval('(' +window.external.forceEnergy()+ ')');
		option.series[1].data = forceArray;
		
		//加载图表
        myChart.setOption(option);
    </script>
</body>
</html>